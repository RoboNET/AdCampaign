@using AdCampaign.Common
@model IEnumerable<AdCampaign.BLL.Services.Adverts.DTO.ApplicationListItemDto>

@{
    ViewBag.Title = "Список заявок";
}

<div class="container">
    <div class="row justify-content-center">
        <h2 class="col-12">Список заявок</h2>
    </div>

     @if (ViewData["AdName"] is string adName)
     {
         <div class="row justify-content-center">
             <h3 class="col-12">@adName</h3>
         </div>
     }
    
    @if (ViewData["Errors"] is Error[] errors)
    {
        foreach (var error in errors)
        {
            <div class="row justify-content-center">
                <div class="alert alert-danger mt-5" role="alert">
                    @error.Message
                </div>
            </div>
        }
    }

    <div class="row justify-content-center">
        <table class="col-12 table">
            <tr>
                <th>Название кампании</th>
                <th>Email</th>
                <th>Телефон</th>
            </tr>
            @{
                foreach (var advert in Model)
                {
                    <tr>
                        <td>
                            @Html.ActionLink(@advert.AdvertName, controllerName: "Advert", actionName: "Update", routeValues: new {id = @advert.AdvertId})
                        </td>
                        <td>
                            @advert.Email
                        </td>
                        <td>
                            @advert.Phone
                        </td>

                    </tr>
                }
            }
        </table>
    </div>
</div>
